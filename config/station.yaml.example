# Station Service Configuration Example
# Copy this file to station.yaml and modify as needed

# Station identification
station:
  id: "station_001"
  name: "Test Station 1"
  description: "PCB voltage testing station"

# HTTP server settings
server:
  host: "0.0.0.0"  # Use "127.0.0.1" for local only
  port: 8080

# Backend API connection (NeuroHub)
backend:
  url: "http://neurohub.local:8000"  # Backend server URL (FastAPI default port)
  # Station API Key for sequence pull authentication
  # Generate with: python scripts/generate_station_api_key.py <station_id>
  # The key is a JWT with station_id claim, used for X-API-Key header
  api_key: "${STATION_API_KEY}"  # Use environment variable for security
  # Station ID must match the station_id in the API key
  station_id: "station_001"
  sync_interval: 30  # Seconds between sync attempts
  timeout: 30.0  # Request timeout in seconds
  max_retries: 5  # Maximum retry attempts for failed requests

# Path configuration
# Paths can be absolute or relative to the project root
paths:
  sequences_dir: "sequences"  # Directory for sequence packages
  data_dir: "data"            # Directory for data files (database, logs)

# Batch configurations
batches:
  - id: "batch_1"
    name: "Batch 1"
    sequence_package: "sequences/pcb_voltage_test"
    auto_start: true
    hardware:
      multimeter:
        driver: "drivers.keithley"
        class: "Keithley2000"
        port: "COM3"
        baudrate: 9600
      power_supply:
        driver: "drivers.agilent"
        class: "AgilentE3631A"
        port: "COM4"
        baudrate: 9600

  - id: "batch_2"
    name: "Batch 2"
    sequence_package: "sequences/pcb_voltage_test"
    auto_start: false
    hardware:
      multimeter:
        driver: "drivers.keithley"
        class: "Keithley2000"
        port: "COM5"
        baudrate: 9600
      power_supply:
        driver: "drivers.agilent"
        class: "AgilentE3631A"
        port: "COM6"
        baudrate: 9600

# Logging settings
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  file: "data/logs/station.log"
  max_size: "10MB"
  backup_count: 5
